version: 0.2

phases:
 build:
   commands:
     - echo Packaging app on `date`
     - mvn clean package
     - aws cloudformation package --template-file sam.yaml --s3-bucket codepipeline-us-east-1-958283805552 --output-template-file output-sam.yaml
 post_build:
   commands:
     - echo App packaged on `date`.
artifacts:
 type: jar
 files:
   - "target/user-service.jar"
   - "sam.yaml"
   - "output-sam.yaml"
 discard-paths: yes